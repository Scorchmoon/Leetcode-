# Leetcode.9.判断回文数

## 一、题目

给你一个整数 `x` ，如果 `x` 是一个回文整数，返回 `true` ；否则，返回 `false` 。



回文数

是指正序（从左向右）和倒序（从右向左）读都是一样的整数。



- 例如，`121` 是回文，而 `123` 不是。

 

**示例 1：**

```
输入：x = 121
输出：true
```

**示例 2：**

```
输入：x = -121
输出：false
解释：从左向右读, 为 -121 。 从右向左读, 为 121- 。因此它不是一个回文数。
```

**示例 3：**

```
输入：x = 10
输出：false
解释：从右向左读, 为 01 。因此它不是一个回文数。
```

## 二、代码示例

```c
bool isPalindrome(int x) {
    if(x < 0)
        return false;
    long int sum=0;
    long int n=x;
    while(n!=0)
    {
        sum=sum*10+n%10;
        n=n/10;
    }
    if(sum==x)
    return true;
    else
    return false;
}
```

## 三、逐行解析

#### 1. 判断负数

```
cpp复制代码if (x < 0)
    return false;
```

- 负数不可能是回文数，因为负号在数字前面，反转后会在数字后面，不可能和原数字相同。
- 因此，对于任何负数，函数直接返回 `false`。

#### 2. 初始化变量

```
cpp复制代码long int sum = 0;
long int n = x;
```

- `sum` 用于存储反转后的数字。
- `n` 用于保存 `x` 的副本，避免修改原始输入 `x`。

#### 3. 反转数字

```
cpp复制代码while (n != 0) {
    sum = sum * 10 + n % 10;
    n = n / 10;
}
```

- **循环条件**：`while (n != 0)`，当 `n` 不为零时循环继续。

- 反转数字

  ：

  - `n % 10` 获取 `n` 的最后一位数字。
  - `sum = sum * 10 + n % 10` 将 `sum` 向左移动一位（乘以 10）并加上 `n` 的最后一位数字。
  - `n = n / 10` 去掉 `n` 的最后一位数字。

例如，`x = 12321` 的反转过程如下：

- 初始：`sum = 0`，`n = 12321`
- 第一次循环：`sum = 0 * 10 + 1 = 1`，`n = 1232`
- 第二次循环：`sum = 1 * 10 + 2 = 12`，`n = 123`
- 第三次循环：`sum = 12 * 10 + 3 = 123`，`n = 12`
- 第四次循环：`sum = 123 * 10 + 2 = 1232`，`n = 1`
- 第五次循环：`sum = 1232 * 10 + 1 = 12321`，`n = 0`

循环结束时，`sum` 就是 `x` 的反转。

#### 4. 判断回文数

```
cpp复制代码if (sum == x)
    return true;
else
    return false;
```

- 如果反转后的数字 `sum` 与原始数字 `x` 相等，则 `x` 是回文数，返回 `true`。
- 否则，返回 `false`。

### 代码解释

1. **负数判断**：负数无法成为回文数，直接排除。
2. **反转数字**：通过反转 `x`，得到 `sum`。
3. **比较**：比较 `sum` 和 `x`，如果相等，则 `x` 是回文数，否则不是。

### 注意事项

- **数据类型**：`long int` 用于存储 `sum` 和 `n`，这比 `int` 能存储更大的数。因为在反转过程中，`sum` 的值可能超过 `int` 的范围。
- **整数溢出**：反转数字可能导致溢出。虽然 `long int` 有更大的范围，但在极端情况下也会溢出。如果需要处理非常大的整数，可能需要使用更大的数据类型或额外的溢出检查。

### 示例

- **示例 1**：

  ```
  int x = 121;
  bool result = isPalindrome(x); // true，因为 121 是回文数
  ```

- **示例 2**：

  ```
  int x = -121;
  bool result = isPalindrome(x); // false，因为负数不可能是回文数
  ```

- **示例 3**：

  ```
  int x = 123;
  bool result = isPalindrome(x); // false，因为 123 反转是 321，不相同
  ```

## 四、知识点包含

这段代码实现了一个判断整数是否为回文数的函数 `isPalindrome`。在编写和分析这段代码的过程中，涉及了多个编程概念和知识点。下面我们逐个解释这些知识点和它们在代码中的应用。

```cpp
bool isPalindrome(int x) {
    if (x < 0)
        return false;
    
    long int sum = 0;
    long int n = x;

    while (n != 0) {
        sum = sum * 10 + n % 10;
        n = n / 10;
    }

    if (sum == x)
        return true;
    else
        return false;
}
```

### 1. 函数定义与返回值类型

```cpp
bool isPalindrome(int x) {
    ...
}
```

- **函数定义**：`isPalindrome` 是函数名，接收一个 `int` 类型的参数 `x`，返回一个布尔值（`bool`）。
- **返回值类型**：`bool` 类型表示函数返回的结果是布尔值，取值为 `true` 或 `false`。

### 2. 条件判断

```cpp
if (x < 0)
    return false;
```

- **条件判断**：`if` 语句用来判断 `x` 是否为负数。
- **负数判断**：回文数必须是非负数，负数不可能是回文数（因为符号位不匹配）。
- **立即返回**：如果 `x` 为负数，函数直接返回 `false`，即负数不是回文数。

### 3. 变量定义与初始化

```cpp
long int sum = 0;
long int n = x;
```

- **变量定义**：`sum` 用于存储反转后的数字，`n` 是输入 `x` 的副本。
- **数据类型**：使用 `long int` 确保在反转数字过程中避免溢出，`long int` 提供了比 `int` 更大的存储范围。

### 4. 循环结构

```cpp
while (n != 0) {
    sum = sum * 10 + n % 10;
    n = n / 10;
}
```

- **循环条件**：`while (n != 0)`，循环在 `n` 不为零时继续执行。
- **反转数字**：
  - `n % 10` 取 `n` 的最后一位数字。
  - `sum = sum * 10 + n % 10` 将 `sum` 左移一位并加上 `n` 的最后一位数字。
  - `n = n / 10` 将 `n` 的最后一位去掉。

### 5. 算术运算

```cpp
sum = sum * 10 + n % 10;
n = n / 10;
```

- **取余运算**：`n % 10` 取 `n` 的最后一位数字。例如，`123 % 10` 的结果是 `3`。
- **整数除法**：`n / 10` 去掉 `n` 的最后一位数字。例如，`123 / 10` 的结果是 `12`。
- **数字反转**：`sum * 10` 左移 `sum`，然后加上 `n` 的最后一位。

### 6. 条件返回

```cpp
if (sum == x)
    return true;
else
    return false;
```

- **条件判断**：比较反转后的数字 `sum` 和原始数字 `x` 是否相等。
- **返回结果**：如果相等，返回 `true`（是回文数）；否则返回 `false`（不是回文数）。

### 涉及的知识点

#### 1. **函数与返回值**

- **函数声明**：定义了一个带有返回值类型和参数的函数。
- **布尔返回值**：用于返回逻辑判断的结果。

#### 2. **条件判断**

- **`if` 语句**：用于判断条件是否满足，并执行相应的代码块。
- **逻辑操作**：在条件判断中进行逻辑运算。

#### 3. **循环**

- **`while` 循环**：用于重复执行某段代码，直到条件不满足为止。

#### 4. **算术运算**

- **取余运算**：用于获取一个整数的最后一位。
- **整数除法**：用于去掉整数的最后一位。
- **数字反转**：通过逐位操作实现数字的反转。

#### 5. **变量定义与作用域**

- **局部变量**：在函数内部定义的变量，仅在函数内有效。
- **变量初始化**：变量定义时赋予初始值。

#### 6. **数据类型**

- **`int` 和 `long int`**：不同的数据类型用于处理不同大小的数值。
- **类型转换与范围**：在处理较大数值时，需要选择合适的数据类型以避免溢出。

#### 7. **逻辑运算**

- **比较运算**：比较两个数值是否相等。
- **布尔逻辑**：判断条件的结果并返回布尔值。

#### 8. **代码可读性与结构**

- **函数命名**：`isPalindrome` 函数名称清晰地表达了其功能。
- **代码结构**：使用良好的缩进和注释提高代码的可读性和维护性。

